<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>AdsReturnCode.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">PLC4J: Protocol: ADS</a> &gt; <a href="index.source.html" class="el_package">org.apache.plc4x.java.ads.api.commands.types</a> &gt; <span class="el_source">AdsReturnCode.java</span></div><h1>AdsReturnCode.java</h1><pre class="source lang-java linenums">/*
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 &quot;License&quot;); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 */
package org.apache.plc4x.java.ads.api.commands.types;

import static java.lang.Long.toHexString;
import static java.util.Objects.requireNonNull;

/**
 * Based on spec from: https://infosys.beckhoff.com/content/1033/tcadscommon/html/ads_returncodes.htm
 */
// Error codes: 0x000..., 0x500..., 0x700..., 0x1000..., 0x274C...
<span class="fc" id="L28">public enum AdsReturnCode {</span>
    // Global Error Codes
<span class="fc" id="L30">    ADS_CODE_0(0x0, 0, &quot;no error&quot;),</span>
<span class="fc" id="L31">    ADS_CODE_1(0x1, 1, &quot;Internal error&quot;),</span>
<span class="fc" id="L32">    ADS_CODE_2(0x2, 2, &quot;No Rtime&quot;),</span>
<span class="fc" id="L33">    ADS_CODE_3(0x3, 3, &quot;Allocation locked memory error&quot;),</span>
<span class="fc" id="L34">    ADS_CODE_4(0x4, 4, &quot;Insert mailbox error&quot;, &quot;No ADS mailbox was available to process this message.&quot;, &quot;Reduce the number of ADS calls (e.g ADS-Sum commands or Max Delay Parameter)&quot;),</span>
<span class="fc" id="L35">    ADS_CODE_5(0x5, 5, &quot;Wrong receive HMSG&quot;),</span>
<span class="fc" id="L36">    ADS_CODE_6(0x6, 6, &quot;target port not found&quot;, &quot;ADS Server not started&quot;),</span>
<span class="fc" id="L37">    ADS_CODE_7(0x7, 7, &quot;target machine not found&quot;, &quot;Missing ADS routes&quot;),</span>
<span class="fc" id="L38">    ADS_CODE_8(0x8, 8, &quot;Unknown command ID&quot;),</span>
<span class="fc" id="L39">    ADS_CODE_9(0x9, 9, &quot;Bad task ID&quot;),</span>
<span class="fc" id="L40">    ADS_CODE_10(0xA, 10, &quot;No IO&quot;),</span>
<span class="fc" id="L41">    ADS_CODE_11(0xB, 11, &quot;Unknown ADS command&quot;),</span>
<span class="fc" id="L42">    ADS_CODE_12(0xC, 12, &quot;Win 32 error&quot;),</span>
<span class="fc" id="L43">    ADS_CODE_13(0xD, 13, &quot;Port not connected&quot;),</span>
<span class="fc" id="L44">    ADS_CODE_14(0xE, 14, &quot;Invalid ADS length&quot;),</span>
<span class="fc" id="L45">    ADS_CODE_15(0xF, 15, &quot;Invalid ADS Net ID&quot;),</span>
<span class="fc" id="L46">    ADS_CODE_16(0x10, 16, &quot;Low Installation level&quot;),</span>
<span class="fc" id="L47">    ADS_CODE_17(0x11, 17, &quot;No debug available&quot;),</span>
<span class="fc" id="L48">    ADS_CODE_18(0x12, 18, &quot;Port disabled&quot;),</span>
<span class="fc" id="L49">    ADS_CODE_19(0x13, 19, &quot;Port already connected&quot;),</span>
<span class="fc" id="L50">    ADS_CODE_20(0x14, 20, &quot;ADS Sync Win32 error&quot;),</span>
<span class="fc" id="L51">    ADS_CODE_21(0x15, 21, &quot;ADS Sync Timeout&quot;),</span>
<span class="fc" id="L52">    ADS_CODE_22(0x16, 22, &quot;ADS Sync AMS error&quot;),</span>
<span class="fc" id="L53">    ADS_CODE_23(0x17, 23, &quot;ADS Sync no index map&quot;),</span>
<span class="fc" id="L54">    ADS_CODE_24(0x18, 24, &quot;Invalid ADS port&quot;),</span>
<span class="fc" id="L55">    ADS_CODE_25(0x19, 25, &quot;No memory&quot;),</span>
<span class="fc" id="L56">    ADS_CODE_26(0x1A, 26, &quot;TCP send error&quot;),</span>
<span class="fc" id="L57">    ADS_CODE_27(0x1B, 27, &quot;Host unreachable&quot;),</span>
<span class="fc" id="L58">    ADS_CODE_28(0x1C, 28, &quot;Invalid AMS fragment&quot;),</span>


    // Router Error Codes
<span class="fc" id="L62">    ADS_CODE_1280(0x500, 1280, &quot;ROUTERERR_NOLOCKEDMEMORY&quot;, &quot;No locked memory can be allocated&quot;),</span>
<span class="fc" id="L63">    ADS_CODE_1281(0x501, 1281, &quot;ROUTERERR_RESIZEMEMORY&quot;, &quot;The size of the  router memory could not be changed&quot;),</span>
<span class="fc" id="L64">    ADS_CODE_1282(0x502, 1282, &quot;ROUTERERR_MAILBOXFULL&quot;, &quot;The mailbox has reached the maximum number of possible messages. The current sent message was rejected&quot;, &quot;Check the connection between the communication partners&quot;),</span>
<span class="fc" id="L65">    ADS_CODE_1283(0x503, 1283, &quot;ROUTERERR_DEBUGBOXFULL &quot;, &quot;The mailbox has reached the maximum number of possible messages.The sent message will not be displayed in the debug monitor&quot;, &quot;Check the connection to the debug monitor&quot;),</span>
<span class="fc" id="L66">    ADS_CODE_1284(0x504, 1284, &quot;ROUTERERR_UNKNOWNPORTTYPE &quot;, &quot;The port type is unknown&quot;),</span>
<span class="fc" id="L67">    ADS_CODE_1285(0x505, 1285, &quot;ROUTERERR_NOTINITIALIZED&quot;, &quot;Router is not initialised&quot;),</span>
<span class="fc" id="L68">    ADS_CODE_1286(0x506, 1286, &quot;ROUTERERR_PORTALREADYINUSE &quot;, &quot;The desired port number is already assigned&quot;),</span>
<span class="fc" id="L69">    ADS_CODE_1287(0x507, 1287, &quot;ROUTERERR_NOTREGISTERED &quot;, &quot;Port not registered&quot;),</span>
<span class="fc" id="L70">    ADS_CODE_1288(0x508, 1288, &quot;ROUTERERR_NOMOREQUEUES&quot;, &quot;The maximum number of Ports reached&quot;),</span>
<span class="fc" id="L71">    ADS_CODE_1289(0x509, 1289, &quot;ROUTERERR_INVALIDPORT &quot;, &quot;The port is invalid.&quot;),</span>
<span class="fc" id="L72">    ADS_CODE_1290(0x50A, 1290, &quot;ROUTERERR_NOTACTIVATED &quot;, &quot;TwinCAT Router not active&quot;),</span>
<span class="fc" id="L73">    ADS_CODE_1291(0x50B, 1291, &quot;ROUTERERR_FRAGMENTBOXFULL&quot;),</span>
<span class="fc" id="L74">    ADS_CODE_1292(0x50C, 1292, &quot;ROUTERERR_FRAGMENTTIMEOUT&quot;),</span>
<span class="fc" id="L75">    ADS_CODE_1293(0x50D, 1293, &quot;ROUTERERR_TOBEREMOVED&quot;),</span>


    // General ADS Error Codes
<span class="fc" id="L79">    ADS_CODE_1792(0x700, 1792, &quot;error class &lt;device error&gt;&quot;),</span>
<span class="fc" id="L80">    ADS_CODE_1793(0x701, 1793, &quot;Service is not supported by server&quot;),</span>
<span class="fc" id="L81">    ADS_CODE_1794(0x702, 1794, &quot;invalid index group&quot;),</span>
<span class="fc" id="L82">    ADS_CODE_1795(0x703, 1795, &quot;invalid index offset&quot;),</span>
<span class="fc" id="L83">    ADS_CODE_1796(0x704, 1796, &quot;reading/writing not permitted&quot;),</span>
<span class="fc" id="L84">    ADS_CODE_1797(0x705, 1797, &quot;parameter size not correct&quot;),</span>
<span class="fc" id="L85">    ADS_CODE_1798(0x706, 1798, &quot;invalid parameter value(s)&quot;),</span>
<span class="fc" id="L86">    ADS_CODE_1799(0x707, 1799, &quot;device is not in a ready state&quot;),</span>
<span class="fc" id="L87">    ADS_CODE_1800(0x708, 1800, &quot;device is busy&quot;),</span>
<span class="fc" id="L88">    ADS_CODE_1801(0x709, 1801, &quot;invalid context (must be in Windows)&quot;),</span>
<span class="fc" id="L89">    ADS_CODE_1802(0x70A, 1802, &quot;out of memory&quot;),</span>
<span class="fc" id="L90">    ADS_CODE_1803(0x70B, 1803, &quot;invalid parameter value(s)&quot;),</span>
<span class="fc" id="L91">    ADS_CODE_1804(0x70C, 1804, &quot;not found (files, ...)&quot;),</span>
<span class="fc" id="L92">    ADS_CODE_1805(0x70D, 1805, &quot;syntax error in command or file&quot;),</span>
<span class="fc" id="L93">    ADS_CODE_1806(0x70E, 1806, &quot;objects do not match&quot;),</span>
<span class="fc" id="L94">    ADS_CODE_1807(0x70F, 1807, &quot;object already exists&quot;),</span>
<span class="fc" id="L95">    ADS_CODE_1808(0x710, 1808, &quot;symbol not found&quot;),</span>
<span class="fc" id="L96">    ADS_CODE_1809(0x711, 1809, &quot;symbol version invalid&quot;, &quot;Onlinechange&quot;, &quot;Release handle and get a new one&quot;),</span>
<span class="fc" id="L97">    ADS_CODE_1810(0x712, 1810, &quot;server is in invalid state&quot;),</span>
<span class="fc" id="L98">    ADS_CODE_1811(0x713, 1811, &quot;AdsTransMode not supported&quot;),</span>
<span class="fc" id="L99">    ADS_CODE_1812(0x714, 1812, &quot;Notification handle is invalid&quot;, &quot;Onlinechange&quot;, &quot;Release handle and get a new one&quot;),</span>
<span class="fc" id="L100">    ADS_CODE_1813(0x715, 1813, &quot;Notification client not registered&quot;),</span>
<span class="fc" id="L101">    ADS_CODE_1814(0x716, 1814, &quot;no more notification handles&quot;),</span>
<span class="fc" id="L102">    ADS_CODE_1815(0x717, 1815, &quot;size for watch too big&quot;),</span>
<span class="fc" id="L103">    ADS_CODE_1816(0x718, 1816, &quot;device not initialized&quot;),</span>
<span class="fc" id="L104">    ADS_CODE_1817(0x719, 1817, &quot;device has a timeout&quot;),</span>
<span class="fc" id="L105">    ADS_CODE_1818(0x71A, 1818, &quot;query interface failed&quot;),</span>
<span class="fc" id="L106">    ADS_CODE_1819(0x71B, 1819, &quot;wrong interface required&quot;),</span>
<span class="fc" id="L107">    ADS_CODE_1820(0x71C, 1820, &quot;class ID is invalid&quot;),</span>
<span class="fc" id="L108">    ADS_CODE_1821(0x71D, 1821, &quot;object ID is invalid&quot;),</span>
<span class="fc" id="L109">    ADS_CODE_1822(0x71E, 1822, &quot;request is pending&quot;),</span>
<span class="fc" id="L110">    ADS_CODE_1823(0x71F, 1823, &quot;request is aborted&quot;),</span>
<span class="fc" id="L111">    ADS_CODE_1824(0x720, 1824, &quot;signal warning&quot;),</span>
<span class="fc" id="L112">    ADS_CODE_1825(0x721, 1825, &quot;invalid array index&quot;),</span>
<span class="fc" id="L113">    ADS_CODE_1826(0x722, 1826, &quot;symbol not active&quot;, &quot;Onlinechange&quot;, &quot;Release handle and get a new one&quot;),</span>
<span class="fc" id="L114">    ADS_CODE_1827(0x723, 1827, &quot;access denied&quot;),</span>
<span class="fc" id="L115">    ADS_CODE_1828(0x724, 1828, &quot;missing license &quot;, &quot;&quot;, &quot;Activate license for TwinCAT 3 function&quot;),</span>
<span class="fc" id="L116">    ADS_CODE_1836(0x72c, 1836, &quot;exception occured during system start&quot;, &quot;&quot;, &quot;Check each device transistions&quot;),</span>
<span class="fc" id="L117">    ADS_CODE_1856(0x740, 1856, &quot;Error class &lt;client error&gt;&quot;),</span>
<span class="fc" id="L118">    ADS_CODE_1857(0x741, 1857, &quot;invalid parameter at service&quot;),</span>
<span class="fc" id="L119">    ADS_CODE_1858(0x742, 1858, &quot;polling list is empty&quot;),</span>
<span class="fc" id="L120">    ADS_CODE_1859(0x743, 1859, &quot;var connection already in use&quot;),</span>
<span class="fc" id="L121">    ADS_CODE_1860(0x744, 1860, &quot;invoke ID in use&quot;),</span>
<span class="fc" id="L122">    ADS_CODE_1861(0x745, 1861, &quot;timeout elapsed&quot;, &quot;&quot;, &quot;Check ADS routes of sender and receiver and your firewall setting&quot;),</span>
<span class="fc" id="L123">    ADS_CODE_1862(0x746, 1862, &quot;error in win32 subsystem&quot;),</span>
<span class="fc" id="L124">    ADS_CODE_1863(0x747, 1863, &quot;Invalid client timeout value&quot;),</span>
<span class="fc" id="L125">    ADS_CODE_1864(0x748, 1864, &quot;ads-port not opened&quot;),</span>
<span class="fc" id="L126">    ADS_CODE_1872(0x750, 1872, &quot;internal error in ads sync&quot;),</span>
<span class="fc" id="L127">    ADS_CODE_1873(0x751, 1873, &quot;hash table overflow&quot;),</span>
<span class="fc" id="L128">    ADS_CODE_1874(0x752, 1874, &quot;key not found in hash&quot;),</span>
<span class="fc" id="L129">    ADS_CODE_1875(0x753, 1875, &quot;no more symbols in cache&quot;),</span>
<span class="fc" id="L130">    ADS_CODE_1876(0x754, 1876, &quot;invalid response received&quot;),</span>
<span class="fc" id="L131">    ADS_CODE_1877(0x755, 1877, &quot;sync port is locked&quot;),</span>


    // RTime Error Codes
<span class="fc" id="L135">    ADS_CODE_4096(0x1000, 4096, &quot;RTERR_INTERNAL &quot;, &quot;Internal fatal error in the TwinCAT real-time system&quot;),</span>
<span class="fc" id="L136">    ADS_CODE_4097(0x1001, 4097, &quot;RTERR_BADTIMERPERIODS&quot;, &quot;Timer value not vaild&quot;),</span>
<span class="fc" id="L137">    ADS_CODE_4098(0x1002, 4098, &quot;RTERR_INVALIDTASKPTR&quot;, &quot;Task pointer has the invalid value ZERO&quot;),</span>
<span class="fc" id="L138">    ADS_CODE_4099(0x1003, 4099, &quot;RTERR_INVALIDSTACKPTR&quot;, &quot;Task stack pointer has the invalid value ZERO&quot;),</span>
<span class="fc" id="L139">    ADS_CODE_4100(0x1004, 4100, &quot;RTERR_PRIOEXISTS&quot;, &quot;The demand task priority is already assigned&quot;),</span>
<span class="fc" id="L140">    ADS_CODE_4101(0x1005, 4101, &quot;RTERR_NOMORETCB&quot;, &quot;No more free TCB (Task Control Block) available. Maximum number of TCBs is 64&quot;),</span>
<span class="fc" id="L141">    ADS_CODE_4102(0x1006, 4102, &quot;RTERR_NOMORESEMAS&quot;, &quot;No more free semaphores available. Maximum number of semaphores is 64&quot;),</span>
<span class="fc" id="L142">    ADS_CODE_4103(0x1007, 4103, &quot;RTERR_NOMOREQUEUES&quot;, &quot;No more free queue available. Maximum number of queue is 64&quot;),</span>
<span class="fc" id="L143">    ADS_CODE_4104(0x1008, 4104, &quot;TwinCAT &quot;, &quot;reserved.&quot;),</span>
<span class="fc" id="L144">    ADS_CODE_4105(0x1009, 4105, &quot;TwinCAT &quot;, &quot;reserved.&quot;),</span>
<span class="fc" id="L145">    ADS_CODE_4106(0x100A, 4106, &quot;TwinCAT &quot;, &quot;reserved.&quot;),</span>
<span class="fc" id="L146">    ADS_CODE_4107(0x100B, 4107, &quot;TwinCAT &quot;, &quot;reserved.&quot;),</span>
<span class="fc" id="L147">    ADS_CODE_4108(0x100C, 4108, &quot;TwinCAT &quot;, &quot;reserved.&quot;),</span>
<span class="fc" id="L148">    ADS_CODE_4109(0x100D, 4109, &quot;RTERR_EXTIRQALREADYDEF&quot;, &quot;An external synchronisation interrupt is already applied&quot;),</span>
<span class="fc" id="L149">    ADS_CODE_4110(0x100E, 4110, &quot;RTERR_EXTIRQNOTDEF&quot;, &quot;No external synchronsiation interrupt applied&quot;),</span>
<span class="fc" id="L150">    ADS_CODE_4111(0x100F, 4111, &quot;RTERR_EXTIRQINSTALLFAILED&quot;, &quot;The apply of the external synchronisation interrupt failed&quot;),</span>
<span class="fc" id="L151">    ADS_CODE_4112(0x1010, 4112, &quot;RTERR_IRQLNOTLESSOREQUAL&quot;, &quot;Call of a service function in the wrong context&quot;),</span>
<span class="fc" id="L152">    ADS_CODE_4119(0x1017, 4119, &quot;RTERR_VMXNOTSUPPORTED&quot;, &quot;Intel VT-x extension is not supported.&quot;),</span>
<span class="fc" id="L153">    ADS_CODE_4120(0x1018, 4120, &quot;RTERR_VMXDISABLED&quot;, &quot;Intel VT-x extension is not enabled in BIOS.&quot;),</span>
<span class="fc" id="L154">    ADS_CODE_4121(0x1019, 4121, &quot;RTERR_VMXCONTROLSMISSING&quot;, &quot;Missing feature in Intel VT-x extension.&quot;),</span>
<span class="fc" id="L155">    ADS_CODE_4122(0x101A, 4122, &quot;RTERR_VMXENABLEFAILS&quot;, &quot;Enabling Intel VT-x fails.&quot;),</span>


    // TCP Winsock Error Codes
<span class="fc" id="L159">    ADS_CODE_10060(0x274c, 10060, &quot;A socket operation was attempted to an unreachable host&quot;, &quot;Host unreachable&quot;, &quot;Check network connection via ping&quot;),</span>
<span class="fc" id="L160">    ADS_CODE_10061(0x274d, 10061, &quot;A connection attempt failed because the connected party did not properly respond after a period of time,or established connection failed because connected host has failed to respond.&quot;, &quot;Host unreachable&quot;, &quot;Check network connection via ping&quot;),</span>
<span class="fc" id="L161">    ADS_CODE_10065(0x2751, 10065, &quot;No connection could be made because the target machine actively refused it&quot;),</span>
<span class="fc" id="L162">    UNKNOWN(0, 0, &quot;&quot;, &quot;&quot;, &quot;&quot;);</span>

    private final long hex;
    private final long dec;
    private final String description;
    private final String possibleCauses;
    private final String solution;

    AdsReturnCode(long hex, long dec, String description) {
<span class="fc" id="L171">        this(hex, dec, description, &quot;&quot;);</span>
<span class="fc" id="L172">    }</span>

    AdsReturnCode(long hex, long dec, String description, String possibleCauses) {
<span class="fc" id="L175">        this(hex, dec, description, possibleCauses, &quot;&quot;);</span>
<span class="fc" id="L176">    }</span>

<span class="fc" id="L178">    AdsReturnCode(long hex, long dec, String description, String possibleCauses, String solution) {</span>
<span class="fc" id="L179">        this.hex = hex;</span>
<span class="fc" id="L180">        this.dec = dec;</span>
<span class="pc bpc" id="L181" title="1 of 2 branches missed.">        if (hex != dec) {</span>
<span class="nc" id="L182">            throw new IllegalArgumentException(&quot;hex &quot; + hex + &quot; is different from dec &quot; + dec);</span>
        }
<span class="fc" id="L184">        this.description = requireNonNull(description);</span>
<span class="fc" id="L185">        this.possibleCauses = possibleCauses;</span>
<span class="fc" id="L186">        this.solution = solution;</span>
<span class="fc" id="L187">    }</span>

    // TODO: optimize with map
    public static AdsReturnCode of(long hex) {
<span class="pc bpc" id="L191" title="1 of 2 branches missed.">        for (AdsReturnCode adsReturnCode : values()) {</span>
<span class="pc bpc" id="L192" title="1 of 2 branches missed.">            if (adsReturnCode.hex == hex) {</span>
<span class="fc" id="L193">                return adsReturnCode;</span>
            }
        }
<span class="nc" id="L196">        return UNKNOWN;</span>
    }

    public static AdsReturnCode of(String name) {
<span class="fc" id="L200">        return valueOf(name);</span>
    }

    public static AdsReturnCode ofInt(String value) {
<span class="nc" id="L204">        return of(Long.parseLong(value));</span>
    }

    public long getHex() {
<span class="fc" id="L208">        return hex;</span>
    }

    public long getDec() {
<span class="fc" id="L212">        return dec;</span>
    }

    public String getDescription() {
<span class="fc" id="L216">        return description;</span>
    }

    public String getPossibleCauses() {
<span class="fc" id="L220">        return possibleCauses;</span>
    }

    public String getSolution() {
<span class="fc" id="L224">        return solution;</span>
    }

    @Override
    public String toString() {
<span class="fc" id="L229">        return &quot;AdsReturnCode{&quot; +</span>
<span class="fc" id="L230">            &quot;hex=&quot; + String.format(&quot;0x%4s&quot;, toHexString(hex)).replace(' ', '0') +</span>
            &quot;, dec=&quot; + dec +
            &quot;, description='&quot; + description + '\'' +
            &quot;, possibleCauses='&quot; + possibleCauses + '\'' +
            &quot;, solution='&quot; + solution + '\'' +
            '}';
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.2.201808211720</span></div></body></html>