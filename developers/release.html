

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--
 Generated by Apache Maven Doxia
 Rendered using Reflow Maven Skin 1.4.0 (http://devacfr.github.io/reflow-maven-skin)
-->
<html  xml:lang="en" lang="en">

        <head>
    <meta charset="UTF-8" />
    <title>Apache PLC4XÂ® (Incubating) - Releasing PLC4X</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
      <meta http-equiv="content-language" content="en" />
    <link href="../css/bootstrap.min.css" rel="stylesheet" />
    <link href="../css/bootstrap-responsive.min.css" rel="stylesheet" />
    <link href="../css/docs.css" rel="stylesheet" />
    <link href="../css/reflow-skin.css" rel="stylesheet" />
      
    <link href="../css/lightbox.css" rel="stylesheet" />
    <link href="../css/site.css" rel="stylesheet" />
    <link href="../css/print.css" rel="stylesheet" media="print" />
<script>
          /* Add an image for promoting Apache events below the right banner */
          document.addEventListener("DOMContentLoaded", function(event) {
            $("#bannerRight").append('<p id="apacheEvents"><a href="//www.apache.org/events/current-event.html"><img src="//www.apache.org/events/current-event-234x60.png"/></a></p>');
          });
        </script>
        </head> <!-- end : head -->
    <body class="page-developers-release project-plc4x-parent">

    <div id="m-top-navbar" class="navbar  navbar-default navbar-fixed-top">
      <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                        data-target="#top-navbar-collapse-1" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    </button>
                        <a class="navbar-brand" href="../">Apache PLC4X (Incubating)</a>
        </div> <!-- .navbar-header -->
        <div class="collapse navbar-collapse" id="top-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
            <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Community <b class="caret"></b></a>
                <ul class="dropdown-menu">
                    <li ><a  href="../community/getting-involved.html"  title="Getting Involved" >Getting Involved</a></li>
                    <li ><a  href="../community/conferences.html"  title="Conferences & Meetups" >Conferences & Meetups</a></li>
            </ul>
        </li>
            <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Users <b class="caret"></b></a>
                <ul class="dropdown-menu">
                    <li ><a  href="../users/download.html"  title="Download" >Download</a></li>
                    <li ><a  href="../users/gettingstarted.html"  title="Getting Started" >Getting Started</a></li>
                    <li ><a  href="../users/industry40.html"  title="Industry 4.0 with Apache" >Industry 4.0 with Apache</a></li>
                    <li ><a  href="../users/security.html"  title="Security" >Security</a></li>
            </ul>
        </li>
                            <li class="dropdown active">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Developers <b class="caret"></b></a>
                <ul class="dropdown-menu">
                    <li ><a  href="issues.html"  title="Bug & Issue Tracker" >Bug & Issue Tracker</a></li>
                    <li ><a  href="building.html"  title="Building PLC4X" >Building PLC4X</a></li>
                    <li ><a  href="sonar.html"  title="Code Analysis" >Code Analysis</a></li>
                    <li ><a  href="ci.html"  title="Continuous Integration" >Continuous Integration</a></li>
                    <li ><a  href="contributing.html"  title="Contributing" >Contributing</a></li>
                    <li ><a  href="jqassistant.html"  title="JQassistant" >JQassistant</a></li>
                                    <li  class="active" ><a  href=""  title="Releasing" >Releasing</a></li>
                    <li ><a  href="vm.html"  title="VM Access" >VM Access</a></li>
                    <li ><a  href="vpn.html"  title="VPN Access" >VPN Access</a></li>
                    <li ><a  href="website.html"  title="Website" >Website</a></li>
                    <li ><a  href="wiki.html"  title="Wiki" >Wiki</a></li>
            </ul>
        </li>
            <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Protocols <b class="caret"></b></a>
                <ul class="dropdown-menu">
                    <li ><a  href="../protocols/features.html"  title="Features" >Features</a></li>
                    <li ><a  href="../protocols/ads/index.html"  title="ADS" >ADS</a></li>
                    <li ><a  href="../protocols/delta-v/index.html"  title="DeltaV" >DeltaV</a></li>
                    <li ><a  href="../protocols/ethernet-ip/index.html"  title="EtherNet/IP" >EtherNet/IP</a></li>
                    <li ><a  href="../protocols/modbus/index.html"  title="Modbus" >Modbus</a></li>
                    <li ><a  href="../protocols/opc-ua/index.html"  title="OPC-UA" >OPC-UA</a></li>
                    <li ><a  href="../protocols/s7/index.html"  title="S7" >S7</a></li>
            </ul>
        </li>
            <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Reports <b class="caret"></b></a>
                <ul class="dropdown-menu">
                    <li class="dropdown-submenu ">
<a  href="../project-info.html"  title="Project Information" >Project Information</a>                    <ul class="dropdown-menu">
                        <li ><a  href="../dependency-convergence.html"  title="Dependency Convergence" >Dependency Convergence</a></li>
                        <li ><a  href="../dependency-info.html"  title="Dependency Information" >Dependency Information</a></li>
                        <li ><a  href="../dependency-management.html"  title="Dependency Management" >Dependency Management</a></li>
                        <li ><a  href="../distribution-management.html"  title="Distribution Management" >Distribution Management</a></li>
                        <li ><a  href="../index.html"  title="About" >About</a></li>
                        <li ><a  href="../issue-management.html"  title="Issue Management" >Issue Management</a></li>
                        <li ><a  href="../licenses.html"  title="Licenses" >Licenses</a></li>
                        <li ><a  href="../mailing-lists.html"  title="Mailing Lists" >Mailing Lists</a></li>
                        <li ><a  href="../modules.html"  title="Project Modules" >Project Modules</a></li>
                        <li ><a  href="../plugin-management.html"  title="Plugin Management" >Plugin Management</a></li>
                        <li ><a  href="../plugins.html"  title="Plugins" >Plugins</a></li>
                        <li ><a  href="../scm.html"  title="Source Code Management" >Source Code Management</a></li>
                        <li ><a  href="../summary.html"  title="Summary" >Summary</a></li>
                    </ul>
                </li>
                    <li class="dropdown-submenu ">
<a  href="../project-reports.html"  title="Project Reports" >Project Reports</a>                    <ul class="dropdown-menu">
                        <li ><a  href="../surefire-report.html"  title="Surefire Report" >Surefire Report</a></li>
                        <li ><a  href="../jacoco-aggregate/index.html"  title="JaCoCo Aggregate" >JaCoCo Aggregate</a></li>
                        <li ><a  href="../xref/index.html"  title="Source Xref" >Source Xref</a></li>
                        <li ><a  href="../xref-test/index.html"  title="Test Source Xref" >Test Source Xref</a></li>
                        <li ><a  href="../changelog.html"  title="Change Log" >Change Log</a></li>
                        <li ><a  href="../file-activity.html"  title="File Activity" >File Activity</a></li>
                        <li ><a  href="../jqassistant.html"  title="jQAssistant" >jQAssistant</a></li>
                    </ul>
                </li>
            </ul>
        </li>
            <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Apache <b class="caret"></b></a>
                <ul class="dropdown-menu">
                    <li ><a  href="http://www.apache.org/"  title="Apache Software Foundation"  class="externalLink" >Apache Software Foundation</a></li>
                    <li ><a  href="https://www.apache.org/foundation/how-it-works.html"  title="How Apache Works"  class="externalLink" >How Apache Works</a></li>
                    <li ><a  href="http://www.apache.org/licenses/"  title="Apache License"  class="externalLink" >Apache License</a></li>
                    <li ><a  href="http://www.apache.org/foundation/sponsorship.html"  title="Sponsoring Apache"  class="externalLink" >Sponsoring Apache</a></li>
                    <li ><a  href="http://www.apache.org/foundation/thanks.html"  title="Thanks"  class="externalLink" >Thanks</a></li>
            </ul>
        </li>
            <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Parent <b class="caret"></b></a>
                <ul class="dropdown-menu">
            </ul>
        </li>
            <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Modules <b class="caret"></b></a>
                <ul class="dropdown-menu">
                    <li ><a  href="../plc4c/index.html"  title="PLC4C" >PLC4C</a></li>
                    <li ><a  href="../plc4j/index.html"  title="PLC4J" >PLC4J</a></li>
                    <li ><a  href="../plc4s/index.html"  title="PLC4S" >PLC4S</a></li>
                    <li ><a  href="../integrations/index.html"  title="Integrations" >Integrations</a></li>
                    <li ><a  href="../examples/index.html"  title="Examples" >Examples</a></li>
            </ul>
        </li>
            </ul>
        </div><!--/.nav-collapse -->
      </div> <!--/.container -->
    </div> <!--/.navbar -->
  <div class="container">
  <!-- Masthead -->
  <!-- ================================================== -->  <div class="header container-fluid">
  <div class="jumbotron subhead">
    <div class="row" id="banner">
      <div class="col-md-12">
        <div class="pull-left">
                                      <a href="https://plc4x.apache.org/" id="bannerLeft">
                    <img src="https://plc4x.apache.org/img/apache_plc4x_logo.png"
                 alt='"'Apache PLC4X (incubating)'"'
 />            </a>
                    <p class="lead">The industrial IoT adapter</p>
        </div>
        <div class="pull-right">
                                      <a href="http://incubator.apache.org/" id="bannerRight">
                    <img src="https://incubator.apache.org/images/incubator_feather_egg_logo_sm.png"
                 alt='"'Apache Incubator'"'
 />            </a>
        </div>
      </div>
    </div>
  </div>
    <div>
      <ol class="breadcrumb">
      <li class="projectVersion version-date">Version: 0.3.0-SNAPSHOT</li>
      </ol>
    </div>
    <hr class="toc-separator" />

        <div id="toc-bar" class="navbar navbar-default" data-spy="affix" data-offset-top="250">
      <div id="toc-scroll-target" class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#toc-nav-collapse" aria-expanded="false">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
            </div> <!-- .navbar-header -->
        <div class="collapse navbar-collapse" id="toc-nav-collapse">
          <ul id="toc" class="nav navbar-nav">
                                                            <li class="toplevel"><a href="#_toc_releasing_plc4x1" title="Releasing PLC4X">Releasing PLC4X</a></li>
                        <li class="toplevel"><a href="#_toc_preparing_your_system_for_being_able_to_release1" title="Preparing your system for being able to release">Preparing your system for being able to release</a></li>
                        <li class="toplevel"><a href="#_toc_creating_a_release_branch1" title="Creating a release branch">Creating a release branch</a></li>
                        <li class="toplevel"><a href="#_toc_release_stabilization_phase1" title="Release stabilization phase">Release stabilization phase</a></li>
                        <li class="toplevel"><a href="#_toc_preparing_a_release1" title="Preparing a release">Preparing a release</a></li>
                        <li class="divider-vertical"></li>
                                    <li class="toplevel"><a href="#_toc_what_if_something_goes_wrong1" title="What if something goes wrong?">What if something goes wrong?</a></li>
                        <li class="toplevel"><a href="#_toc_performing_a_release1" title="Performing a release">Performing a release</a></li>
                        <li class="toplevel"><a href="#_toc_staging_a_release1" title="Staging a release">Staging a release</a></li>
                        <li class="toplevel"><a href="#_toc_starting_a_vote_on_the_mailing_list1" title="Starting a vote on the mailing list">Starting a vote on the mailing list</a></li>
                        <li class="toplevel"><a href="#_toc_an_extra_step_for_incubator_podlings1" title="An extra step for incubator podlings">An extra step for incubator podlings</a></li>
                        <li class="toplevel"><a href="#_toc_releasing_after_a_successful_vote1" title="Releasing after a successful vote">Releasing after a successful vote</a></li>
                        <li class="toplevel"><a href="#_toc_releasing_the_maven_artifacts1" title="Releasing the Maven artifacts">Releasing the Maven artifacts</a></li>
                        <li class="toplevel"><a href="#_toc_updating_jira1" title="Updating Jira">Updating Jira</a></li>
                        <li class="toplevel"><a href="#_toc_notifying_the_world1" title="Notifying the world">Notifying the world</a></li>
          </ul>
        </div>
      </div> <!-- .container -->
    </div> <!-- end: toc-bar -->
  </div> <!-- end : header -->
  <div class="main-body">

  <div class="row">
    <div class="col-md-12">
      <div class="body-content">
<div class="sect1"> 
 <div class="page-header">
  <h2 id="_toc_releasing_plc4x1">Releasing PLC4X</h2>
 </div> 
 <div class="sectionbody"> 
  <div class="sect2"> 
   <h3 id="_toc_preparing_your_system_for_being_able_to_release1">Preparing your system for being able to release</h3> 
   <div class="paragraph"> 
    <p>As part of the release process, Maven will upload maven release artifacts to a so-called staging repository.</p> 
   </div> 
   <div class="paragraph"> 
    <p>This can be thought of as an ad-hoc Maven repository that contains only the artifacts for one release. This helps reviewers to see whatâs in the convenience maven package and to release that to the public repos with one click.</p> 
   </div> 
   <div class="paragraph"> 
    <p>But in order to be allowed to upload artifacts, your account has to be enabled for this and you have to tell Maven about your credentials.</p> 
   </div> 
   <div class="paragraph"> 
    <p>In order to do this, you should provide these credentials via <code>.m2/settings.xml</code>.</p> 
   </div> 
   <div class="paragraph"> 
    <p>So if you donât already have one, you should create a <code>.m2</code> directory in your user home and inside that create a <code>settings.xml</code> file with at least this content:</p> 
   </div> 
   <div class="literalblock"> 
    <div class="content"> 
     <pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;settings xsi:schemaLocation="http://maven.apache.org/SETTINGS/1.1.0 http://maven.apache.org/xsd/settings-1.1.0.xsd" xmlns="http://maven.apache.org/SETTINGS/1.1.0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
  &lt;servers&gt;
    &lt;!-- Apache Repo Settings --&gt;
    &lt;server&gt;
        &lt;id&gt;apache.snapshots.https&lt;/id&gt;
        &lt;username&gt;{user-id}&lt;/username&gt;
        &lt;password&gt;{user-pass}&lt;/password&gt;
    &lt;/server&gt;
    &lt;server&gt;
        &lt;id&gt;apache.releases.https&lt;/id&gt;
        &lt;username&gt;{user-id}&lt;/username&gt;
        &lt;password&gt;{user-pass}&lt;/password&gt;
    &lt;/server&gt;
  &lt;/servers&gt;
&lt;/settings&gt;</pre> 
    </div> 
   </div> 
   <div class="paragraph"> 
    <p>This tells maven to use above credentials as soon as a repository with the id <code>apache.snapshots.https</code> or <code>apache.releases.https</code> is being used. For a release all you need is the <code>releases</code> repo, but it is good to have the other in place as it enables you to also deploy SNAPSHOTs from your system. There repos are defined in the <code>apache</code> parent pom and is identical for all Apache projects.</p> 
   </div> 
   <div class="paragraph"> 
    <p>Additionally all artifacts are automatically signed by the release build. In order to be able to do this you need to setup GPG.</p> 
   </div> 
   <div class="paragraph"> 
    <p>The key being used to sign the artifacts will have to be linked to your Apache E-Mail ({apache-id}@apache.org) and verified by at least one fellow Apache committer (Ideally more) that have trusted keys themselves. Usually for this you have to get in touch - in real life - with any Apache committer with a trusted key. Attending an <code>ApacheCon</code> is usually a great way to do this as usually every ApacheCon has a <code>Key Signing event</code> in itâs schedule. He can then sign your key and hereby enable you to sign Apache release artifacts.</p> 
   </div> 
   <div class="paragraph"> 
    <p>Thereâs a detailed description <a href="https://github.com/apache/incubator-pulsar/wiki/Create-GPG-keys-to-sign-release-artifacts">here</a>.</p> 
   </div> 
   <div class="paragraph"> 
    <p>If you happen to have multiple keys, adding the following profile to your <code>settings.xml</code> should help:</p> 
   </div> 
   <div class="literalblock"> 
    <div class="content"> 
     <pre>&lt;profile&gt;
  &lt;id&gt;apache-release&lt;/id&gt;
  &lt;properties&gt;
    &lt;gpg.keyname&gt;5C60D6B9&lt;/gpg.keyname&gt;&lt;!-- Your GPG Keyname here --&gt;
    &lt;!-- Use an agent: Prevents being asked for the password during the build --&gt;
    &lt;gpg.useagent&gt;true&lt;/gpg.useagent&gt;
    &lt;gpg.passphrase&gt;topsecret-password&lt;/gpg.passphrase&gt;
  &lt;/properties&gt;
&lt;/profile&gt;</pre> 
    </div> 
   </div> 
  </div> 
  <div class="sect2"> 
   <h3 id="_toc_creating_a_release_branch1">Creating a release branch</h3> 
   <div class="paragraph"> 
    <p>According to SemVer, we have: Major, Minor and Bugfix releases.</p> 
   </div> 
   <div class="paragraph"> 
    <p>For each new Major and Minor release we create a new branch at the beginning of a code-freeze phase.</p> 
   </div> 
   <div class="paragraph"> 
    <p>So if currently the project version in develop is <code>0.2.0-SNAPSHOT</code>, we create a branch <code>rel/0.2</code>.</p> 
   </div> 
   <div class="paragraph"> 
    <p>When creating the branch is exactly the moment in which the version in <code>develop</code> is incremented to the next minor version.</p> 
   </div> 
   <div class="paragraph"> 
    <p>This can and should be automated by the <code>maven-release-plugin</code>.</p> 
   </div> 
   <div class="paragraph"> 
    <p>Per default the plugin will ask for the working copy version during the build execution. This is the version the <code>develop</code> branch will be changed to.</p> 
   </div> 
   <div class="paragraph"> 
    <p>The parameter <code>autoVersionSubmodules</code> will tell the release plugin to release all modules with the same version. Otherwise we would have to define the working copy version for each module.</p> 
   </div> 
   <div class="literalblock"> 
    <div class="content"> 
     <pre>mvn release:branch -DbranchName=rel/{minor-version} -DautoVersionSubmodules=true</pre> 
    </div> 
   </div> 
   <div class="paragraph"> 
    <p>Per default the plugin suggests the next bugfix version as working version, however we want it to use the next minor version. So in case of preparing the release branch for <code>0.2.0-SNAPSHOT</code> the command would be the following:</p> 
   </div> 
   <div class="literalblock"> 
    <div class="content"> 
     <pre>mvn release:branch -DbranchName=rel/0.2 -DautoVersionSubmodules=true</pre> 
    </div> 
   </div> 
   <div class="paragraph"> 
    <p>The plugin will then aks for the version:</p> 
   </div> 
   <div class="literalblock"> 
    <div class="content"> 
     <pre>What is the new working copy version for "PLC4X"? (org.apache.plc4x:plc4x-parent) 0.2.1-SNAPSHOT: : 0.3.0-SNAPSHOT</pre> 
    </div> 
   </div> 
   <div class="paragraph"> 
    <p>Where the suggested default is manually overridden.</p> 
   </div> 
   <div class="paragraph"> 
    <p>This step now should perform quite quickly as no build and no tests are involved.</p> 
   </div> 
   <div class="paragraph"> 
    <p>However in the end the versions of the <code>develop</code> branch are updated and a new <code>rel/0.2</code> branch is created.</p> 
   </div> 
  </div> 
  <div class="sect2"> 
   <h3 id="_toc_release_stabilization_phase1">Release stabilization phase</h3> 
   <div class="paragraph"> 
    <p>Now usually comes a phase in which last tests and checks should be perfomed.</p> 
   </div> 
   <div class="paragraph"> 
    <p>If any problems are found they have to be fixed in the release branch.</p> 
   </div> 
   <div class="paragraph"> 
    <p>Changes should either be re applied in <code>develop</code> or <code>cherry-picked</code>, however merging things back can cause a lot of problems ans we no longer have the same versions.</p> 
   </div> 
  </div> 
  <div class="sect2"> 
   <h3 id="_toc_preparing_a_release1">Preparing a release</h3> 
   <div class="paragraph"> 
    <p>In order to prepare a release-candidate, the first step is switching to the corresponding release-branch.</p> 
   </div> 
   <div class="paragraph"> 
    <p>After that, the following command will to all preparation steps for the release:</p> 
   </div> 
   <div class="literalblock"> 
    <div class="content"> 
     <pre>mvn release:prepare -DautoVersionSubmodules=true</pre> 
    </div> 
   </div> 
   <div class="paragraph"> 
    <p>In general the plugin will now ask you 3 questions:</p> 
   </div> 
   <div class="olist arabic"> 
    <ol class="arabic"> 
     <li> <p>The version we want to release as (It will suggest the version you get by omitting the <code>-SNAPSHOT</code> suffix)</p> </li> 
     <li> <p>The name of the tag the release commit will be tagged with in the SCM (Name it <code>release/{release-version}</code></p> </li> 
     <li> <p>The next development version (The version present in the pom after the release)</p> </li> 
    </ol> 
   </div> 
   <div class="paragraph"> 
    <p>Usually for 1 and 3 the defaults are just fine, make sure the tag name is correct as this usually is different.</p> 
   </div> 
   <div class="paragraph"> 
    <p>What the plugin now does, is automatically execute the following operations:</p> 
   </div> 
   <div class="olist arabic"> 
    <ol class="arabic"> 
     <li> <p>Check we arenât referencing any <code>SNAPSHOT</code> dependencies.</p> </li> 
     <li> <p>Update all pom versions to the release version.</p> </li> 
     <li> <p>Run a build with all tests</p> </li> 
     <li> <p>Commit the changes (commit message: <code>[maven-release-plugin] prepare release {tagname}</code>)</p> </li> 
     <li> <p>Push the commit</p> </li> 
     <li> <p>Tag the commit</p> </li> 
     <li> <p>Update all poms to the next development version.</p> </li> 
     <li> <p>Commit the changes (commit message: <code>[maven-release-plugin] prepare for next development iteration</code>)</p> </li> 
     <li> <p>Push the commit</p> </li> 
    </ol> 
   </div> 
   <div class="paragraph"> 
    <p>However this just prepared the git repository for the release, we have to perform the release to produce and stage the release artifacts.</p> 
   </div> 
  </div> 
 </div> 
</div> 
<div class="sect1"> 
 <h2 id="_toc_what_if_something_goes_wrong1">What if something goes wrong?</h2> 
 <div class="sectionbody"> 
  <div class="paragraph"> 
   <p>If something goes wrong, you can always execute:</p> 
  </div> 
  <div class="literalblock"> 
   <div class="content"> 
    <pre>mvn release:rollback</pre> 
   </div> 
  </div> 
  <div class="paragraph"> 
   <p>And it will change the versions back and commit and push things.</p> 
  </div> 
  <div class="paragraph"> 
   <p>However it will not delete the tag in GIT (locally and remotely). So you have to do that manually or use a different tag next time.</p> 
  </div> 
  <div class="sect2"> 
   <h3 id="_toc_performing_a_release1">Performing a release</h3> 
   <div class="paragraph"> 
    <p>This is done by executing another goal of the <code>maven-release-plugin</code>:</p> 
   </div> 
   <div class="literalblock"> 
    <div class="content"> 
     <pre>mvn release:perform</pre> 
    </div> 
   </div> 
   <div class="paragraph"> 
    <p>This executes automatically as all information it requires is located in the <code>release.properties</code> file the <code>prepare</code> goal prepared.</p> 
   </div> 
   <div class="paragraph"> 
    <p>The first step is that the <code>perform</code> goal checks out the previously tagged revision into the root modules <code>target/checkout</code> directory. Here it automatically executes a maven build (You donât have to do this, itâs just that you know whatâs happening):</p> 
   </div> 
   <div class="literalblock"> 
    <div class="content"> 
     <pre>mvn clean deploy -P apache-release</pre> 
    </div> 
   </div> 
   <div class="paragraph"> 
    <p>This builds and tests the project as well as creates the JavaDocs, Source packages and signs each of these with your PGP key.</p> 
   </div> 
   <div class="paragraph"> 
    <p>As this time the build is building with release versions, Maven will automatically choose the release url for deploying artifacts.</p> 
   </div> 
   <div class="paragraph"> 
    <p>The way things are setup in the apache parent pom, is that release artifacts are deployed to a so-called <code>staging repository</code>.</p> 
   </div> 
   <div class="paragraph"> 
    <p>You can think of a <code>staging repository</code> as a dedicated repository created on the fly as soon as the first artifact comes in.</p> 
   </div> 
   <div class="paragraph"> 
    <p>After the build you will have a nice and clean Maven repository at <a href="https://repository.apache.org/" class="bare">https://repository.apache.org/</a> that contains only artifacts from the current build.</p> 
   </div> 
   <div class="paragraph"> 
    <p>After the build it is important to log in to <code>Nexus</code> at <a href="https://repository.apache.org/" class="bare">https://repository.apache.org/</a>, select <code>Staging Repositories</code> and find the repository with the name: <code>orgapacheplc4x-{somenumber}</code>.</p> 
   </div> 
   <div class="paragraph"> 
    <p>Select that and click on the <code>Close</code> button.</p> 
   </div> 
   <div class="paragraph"> 
    <p>Now Nexus will do some checks on the artifacts and check the signatures.</p> 
   </div> 
   <div class="paragraph"> 
    <p>As soon as itâs finished, we are done on the Maven side and ready to continue with the rest of the release process.</p> 
   </div> 
   <div class="paragraph"> 
    <p>A release build also produces a so-called <code>source-assembly</code> zip.</p> 
   </div> 
   <div class="paragraph"> 
    <p>This contains all sources of the project and will be whatâs actually the release from an Apache point of view and will be the thing we will be voting on.</p> 
   </div> 
   <div class="paragraph"> 
    <p>This file will also be signed and <code>SHA512</code> hashes will be created.</p> 
   </div> 
  </div> 
  <div class="sect2"> 
   <h3 id="_toc_staging_a_release1">Staging a release</h3> 
   <div class="paragraph"> 
    <p>Each new release and release-candidate has to be staged in the Apache SVN under:</p> 
   </div> 
   <div class="paragraph"> 
    <p><a href="https://dist.apache.org/repos/dist/dev/incubator/plc4x/" class="bare">https://dist.apache.org/repos/dist/dev/incubator/plc4x/</a></p> 
   </div> 
   <div class="paragraph"> 
    <p>The directory structure of this directory is as follows:</p> 
   </div> 
   <div class="literalblock"> 
    <div class="content"> 
     <pre>./KEYS
./0.1.0-incubating/
./0.1.0-incubating/rc1
./0.1.0-incubating/rc1/README
./0.1.0-incubating/rc1/RELEASE_NOTES
./0.1.0-incubating/rc1/apache-plc4x-incubating-0.1.0-source-release.zip
./0.1.0-incubating/rc1/apache-plc4x-incubating-0.1.0-source-release.zip.asc
./0.1.0-incubating/rc1/apache-plc4x-incubating-0.1.0-source-release.zip.sha512</pre> 
    </div> 
   </div> 
   <div class="paragraph"> 
    <p>The <code>KEYS</code> file contains the PGP public key which belongs to the private key used to sign the release artifacts.</p> 
   </div> 
   <div class="paragraph"> 
    <p>If this is your first release be sure to add your key to this file. For the format have a look at the file itself. It should contain all the information needed.</p> 
   </div> 
   <div class="paragraph"> 
    <p>Be sure to stage exactly the <code>README</code> and <code>RELEASE_NOTES</code> files contained in the root of your project. Ideally you just copy them there from there.</p> 
   </div> 
   <div class="paragraph"> 
    <p>All of the three <code><strong>-source-relese.zip</strong></code> artifacts should be located in the directory: <code>target/checkout/target</code></p> 
   </div> 
   <div class="paragraph"> 
    <p>So after committing these files to SVN you are ready to start the vote.</p> 
   </div> 
  </div> 
  <div class="sect2"> 
   <h3 id="_toc_starting_a_vote_on_the_mailing_list1">Starting a vote on the mailing list</h3> 
   <div class="paragraph"> 
    <p>After staging the release candidate in the Apache SVN, it is time to actually call out the vote.</p> 
   </div> 
   <div class="paragraph"> 
    <p>For this we usually send two emails. The following is the one used to do our first release:</p> 
   </div> 
   <div class="listingblock"> 
    <div class="content"> 
     <pre class="prettyprint highlight"><code>   E-Mail Topic:
   [VOTE] Apache PLC4X (Incubating) 0.1.0 RC1

   Message:
   Apache PLC4X (Incubating) 0.1.0 has been staged under [2] and itâs time to vote
   on accepting it for release.  All Maven artifacts are available under [1].
   If approved we will seek final release approval from the IPMC.
   Voting will be open for 72hr.

   A minimum of 3 binding +1 votes and more binding +1 than binding -1
   are required to pass.

   Release tag: release/0.1.0
   Hash for the release tag: 8c1e0c1b85ce15814f2c08e0eec5d593951d168d

   Per [3] "Before voting +1 [P]PMC members are required to download
   the signed source code package, compile it as provided, and test
   the resulting executable on their own platform, along with also
   verifying that the package meets the requirements of the ASF policy
   on releases."

   You can achieve the above by following [4].

   [ ]  +1 accept (indicate what you validated - e.g. performed the non-RM items in [4])
   [ ]  -1 reject (explanation required)


   [1] https://repository.apache.org/content/repositories/orgapacheplc4x-1003
   [2] https://dist.apache.org/repos/dist/dev/incubator/plc4x/0.2.0-incubating/rc1
   [3] https://www.apache.org/dev/release.html#approving-a-release
   [4] https://cwiki.apache.org/confluence/display/PLC4X/Validating+a+staged+Release</code></pre> 
    </div> 
   </div> 
   <div class="paragraph"> 
    <p>As it is sometimes to do the vote counting, if voting and discussions are going on in the same thread, we send a second email:</p> 
   </div> 
   <div class="listingblock"> 
    <div class="content"> 
     <pre class="prettyprint highlight"><code>   E-Mail Topic:
   [DISCUSS] Apache PLC4X (Incubating) 0.1.0 RC1

   Message:
   This is the discussion thread for the corresponding VOTE thread.

   Please keep discussions in this thread to simplify the counting of votes.

   If you have to vote -1 please mention a brief description on why and then take the details to this thread.</code></pre> 
    </div> 
   </div> 
   <div class="paragraph"> 
    <p>Now we have to wait 72 hours till we can announce the result of the vote.</p> 
   </div> 
   <div class="paragraph"> 
    <p>This is an Apache policy to make it possible for anyone to participate in the vote, no matter where that person lives and not matter what weekends or public holidays might currently be.</p> 
   </div> 
   <div class="paragraph"> 
    <p>The vote passes, if at least 3 <code>+1</code> votes are received and more <code>+1</code> are received than <code>-1</code>.</p> 
   </div> 
   <div class="paragraph"> 
    <p>After the 72 hour minimum wait period is over and we have fulfilled the requirement of at least 3 +1 votes and more +1 than -1, a final reply is sent to the vote thread with a prefix of <code>[RESULT]</code> in the title in which the summary of the vote is presented in an aggregated form.</p> 
   </div> 
   <div class="listingblock"> 
    <div class="content"> 
     <pre class="prettyprint highlight"><code>    E-Mail Topic:
    [RESULT] [DISCUSS] Apache PLC4X (Incubating) 0.1.0 RC1

    Message:
    So, the vote passes with 3 +1 votes by PPMC members and one +1 vote by a non PPMC member.

    Iâll forward this to the incubator for approval. Also I'll update the GIT tag as suggested.

    Chris</code></pre> 
    </div> 
   </div> 
  </div> 
  <div class="sect2"> 
   <h3 id="_toc_an_extra_step_for_incubator_podlings1">An extra step for incubator podlings</h3> 
   <div class="paragraph"> 
    <p>If the vote passes in the project, for a top-level project the formal process would be finished.</p> 
   </div> 
   <div class="paragraph"> 
    <p>Incubator podlings however have to do an extra step and have the Incubator PMC also do a vote.</p> 
   </div> 
   <div class="paragraph"> 
    <p>Now our mentors and any member of the Incubator PMC have the chance to review our release.</p> 
   </div> 
   <div class="paragraph"> 
    <p>Only if this second vote passes, are we allowed to finally announce the release and release the artifacts.</p> 
   </div> 
   <div class="paragraph"> 
    <p>(The following template needs to be adjusted in several places for other releases):</p> 
   </div> 
   <div class="listingblock"> 
    <div class="content"> 
     <pre class="prettyprint highlight"><code>    To:
general@incubator.apache.org

    E-Mail Topic:
[VOTE] Release Apache PLC4X (Incubating) 0.1.0 [RC2]

    Message:
Hello all,

This is a call for vote to release Apache PLC4X (Incubating) version 0.1.0.

The Apache PLC4X community has voted on and approved a proposal to release
Apache PLC4X (Incubating) version 0.1.0.

We now kindly request the Incubator PMC members review and vote on this
incubator release.

Apache PLC4X (incubating) is a set of libraries for communicating with
industrial programmable logic controllers (PLCs) using a variety of
protocols but with a shared API.

PLC4X community vote and result thread:
Result: https://lists.apache.org/thread.html/31ca1bd96eb3dddc30ea1f08e968ece0c04b18fef3fa3bf3707c6e8f@%3Cdev.plc4x.apache.org%3E
Vote: https://lists.apache.org/thread.html/1d4ac299a46934f639987df04d6d19be325572a88decb5c564de89c8@%3Cdev.plc4x.apache.org%3E
A minor issue also can be found in the above thread, which we will be addressing in the next release.
Jira Issue for tracking this can be found here:
https://issues.apache.org/jira/projects/PLC4X/issues/PLC4X-60

The release candidates (RC2):
https://dist.apache.org/repos/dist/dev/incubator/plc4x/0.1.0

Git tag for the release (RC2):
https://github.com/apache/incubator-plc4x/tree/rel/0.1.0

Hash for the release tag:
8c1e0c1b85ce15814f2c08e0eec5d593951d168d

Release Notes:
https://github.com/apache/incubator-plc4x/blob/rel/0.1.0/RELEASE_NOTES

The artifacts have been signed with Key : 089127C15C60D6B9, which can be
found in the keys file:
https://dist.apache.org/repos/dist/dev/incubator/plc4x/KEYS

Look at here for how to verify this release candidate:
https://cwiki.apache.org/confluence/display/PLC4X/Validating+a+staged+Release

The vote will be open for at least 72 hours or until necessary number of
votes are reached.

Please vote accordingly:
[ ] +1 approve
[ ] +0 no opinion
[ ] -1 disapprove with the reason

{your name here}
Apache PLC4X</code></pre> 
    </div> 
   </div> 
   <div class="paragraph"> 
    <p>As soon as the 72 hours period has passed and we got enough <code>+1</code> votes, we send a vote result email:</p> 
   </div> 
   <div class="listingblock"> 
    <div class="content"> 
     <pre class="prettyprint highlight"><code>    To:
general@incubator.apache.org

    E-Mail Topic:
[VOTE] Release Apache PLC4X (Incubating) 0.1.0 [RC2]

    Message:
Hello all,

The vote for releasing Apache PLC4X {version}-{RC-Number} (incubating) is closed, now.

Vote result:
{number of binding +1} (+1 binding) ({List of apache ids for voters})
{number of binding 0} (0 binding) ({List of apache ids for voters})
{number of binding -1} (-1 binding) ({List of apache ids for voters})

number of non-binding +1} (+1 non-binding) ({List names of voters})
number of non-binding 0} (0 non-binding) ({List names of voters})
number of non-binding -1} (-1 non-binding) ({List names of voters})

Thank you everyone for taking the time to review the release and help us.

I will process to publish the release and send ANNOUNCE.

{your name here}
Apache PLC4X</code></pre> 
    </div> 
   </div> 
   <div class="paragraph"> 
    <p>Also you need to add the release to the next board report for the incubator: <a href="https://wiki.apache.org/incubator/October2018" class="bare">https://wiki.apache.org/incubator/October2018</a> (Please adjust the url to the current date)</p> 
   </div> 
  </div> 
  <div class="sect2"> 
   <h3 id="_toc_releasing_after_a_successful_vote1">Releasing after a successful vote</h3> 
   <div class="paragraph"> 
    <p>As soon as the votes are finished and the results were in favor of a release, the staged artifacts can be released. This is done by moving them inside the Apache SVN.</p> 
   </div> 
   <div class="literalblock"> 
    <div class="content"> 
     <pre>svn move -m "Release Apache PLC4X (incubating) 0.1.0" \
    https://dist.apache.org/repos/dist/dev/incubator/plc4x/0.1.0-incubating/rc2 \
    https://dist.apache.org/repos/dist/release/incubator/plc4x/0.1.0-incubating</pre> 
    </div> 
   </div> 
   <div class="paragraph"> 
    <p>This will make the release artifacts available and will trigger them being copied to mirror sites.</p> 
   </div> 
   <div class="paragraph"> 
    <p>This is also the reason why you should wait at least 24 hours before sending out the release notification emails.</p> 
   </div> 
  </div> 
  <div class="sect2"> 
   <h3 id="_toc_releasing_the_maven_artifacts1">Releasing the Maven artifacts</h3> 
   <div class="paragraph"> 
    <p>The probably simplest part is releasing the Maven artifacts.</p> 
   </div> 
   <div class="paragraph"> 
    <p>In order to do this, the release manager logs into Nexus at <a href="https://repository.apache.org/" class="bare">https://repository.apache.org/</a>, selects the stagign repository and clicks on the <code>Release</code> button.</p> 
   </div> 
   <div class="paragraph"> 
    <p>This will move all artifacts into the Apache release repository and delete the staging repository after that.</p> 
   </div> 
   <div class="paragraph"> 
    <p>All release artifacts released to the Apache release repo, will automatically be synced to Maven central.</p> 
   </div> 
  </div> 
  <div class="sect2"> 
   <h3 id="_toc_updating_jira1">Updating Jira</h3> 
   <div class="olist arabic"> 
    <ol class="arabic"> 
     <li> <p>Set the released version to "released" and set the "release-date"</p> </li> 
     <li> <p>Add the next version to the versions.</p> </li> 
    </ol> 
   </div> 
  </div> 
  <div class="sect2"> 
   <h3 id="_toc_notifying_the_world1">Notifying the world</h3> 
   <div class="paragraph"> 
    <p>Make sure you have given the Apache mirrors time to fetch the release files by waiting at least 24 hours after moving the release candidate to the release part of the SVN.</p> 
   </div> 
   <div class="paragraph"> 
    <p>After that it is time to announce your release to the world:</p> 
   </div> 
   <div class="listingblock"> 
    <div class="content"> 
     <pre class="prettyprint highlight"><code>    From:
your apache email address
    To:
announce@apache.org

    CC:
dev@plc4x.apache.org

    E-Mail Topic:
[ANNOUNCE] Apache PLC4X (incubating) 0.1.0 released

    Message:
The Apache PLC4X (Incubating) team is pleased to announce the release of Apache PLC4X (incubating) 0.1.0

This is the first official release of PLC4X.

PLC4X is a set of libraries for communicating with industrial programmable
logic controllers (PLCs) using a variety of protocols but with a shared API.

The current release contains drivers able to communicate with industrial PLCs using one of the following protocols:

  *   Siemens S7 (0x32)
  *   Beckhoff ADS
  *   Modbus
  *   EtherNet/IP

Beyond that we also provide integration modules for the following Apache projects and frameworks:

  *   Apache Edgent (Incubating)
  *   Apache Camel
  *   Apache Kafka (Kafka Connect)

Visit the Apache PLC4X website [1] for general information or
the downloads page [2] for release notes and download information.

Regards,
The Apache PLC4X team

[1] http://plc4x.apache.org
[2] http://plc4x.apache.org/users/download.html

=====

*Disclaimer*

Apache PLC4X is an effort undergoing incubation at The Apache Software
Foundation (ASF), sponsored by the name of Apache Incubator PMC. Incubation
is required of all newly accepted projects until a further review indicates
that the infrastructure, communications, and decision making process have
stabilized in a manner consistent with other successful ASF projects. While
incubation status is not necessarily a reflection of the completeness or
stability of the code, it does indicate that the project has yet to be
fully endorsed by the ASF.</code></pre> 
    </div> 
   </div> 
   <div class="paragraph"> 
    <p>It is important to note that you have to send this email from your apache email address or it will be rejected. This wasnât very simple for me to setup. A general description can be found here: <a href="https://reference.apache.org/committer/email" class="bare">https://reference.apache.org/committer/email</a> Hereâs what I did in google mail to allow sending of emails: <a href="https://gmail.googleblog.com/2009/07/send-mail-from-another-address-without.html" class="bare">https://gmail.googleblog.com/2009/07/send-mail-from-another-address-without.html</a> Note â¦â you will be able to select the alternat sending address if you click into the recipients line of a new email (Not very intuitive).</p> 
   </div> 
   <div class="paragraph"> 
    <p>After that email is out the door, youâre done. Congrats!</p> 
   </div> 
  </div> 
 </div> 
</div>      </div>
    </div>
  </div> <!-- /row -->
  </div>
    </div> <!-- end : row -->
</div> <!-- /container -->
  <!-- Footer
  ================================================== -->
  <footer class="well">
    <div class="container">
      <div class="row">
            <div class="col-md-2 bottom-nav">

                <ul class="nav nav-list">
                    <li class="nav-header">Reports</li>
                    <li ><a  href="../project-info.html"  title="Project Information" >Project Information <i class="glyphicon glyphicon-chevron-right"></i></a></li>
                    <li ><a  href="../project-reports.html"  title="Project Reports" >Project Reports <i class="glyphicon glyphicon-chevron-right"></i></a></li>
                </ul>

            </div>
            <div class="col-md-2 bottom-nav">

                <ul class="nav nav-list">
                </ul>

            </div>
            <div class="col-md-2 bottom-nav">

                <ul class="nav nav-list">
                    <li class="nav-header">Protocols</li>
                    <li ><a  href="../protocols/features.html"  title="Features" >Features</a></li>
                    <li ><a  href="../protocols/ads/index.html"  title="ADS" >ADS</a></li>
                    <li ><a  href="../protocols/delta-v/index.html"  title="DeltaV" >DeltaV</a></li>
                    <li ><a  href="../protocols/ethernet-ip/index.html"  title="EtherNet/IP" >EtherNet/IP</a></li>
                    <li ><a  href="../protocols/modbus/index.html"  title="Modbus" >Modbus</a></li>
                    <li ><a  href="../protocols/opc-ua/index.html"  title="OPC-UA" >OPC-UA</a></li>
                    <li ><a  href="../protocols/s7/index.html"  title="S7" >S7</a></li>
                </ul>

            </div>
            <div class="col-md-3 bottom-nav">

                <ul class="nav nav-list">
                    <li class="nav-header">Modules</li>
                    <li ><a  href="../plc4c/index.html"  title="PLC4C" >PLC4C</a></li>
                    <li ><a  href="../plc4j/index.html"  title="PLC4J" >PLC4J</a></li>
                    <li ><a  href="../plc4s/index.html"  title="PLC4S" >PLC4S</a></li>
                    <li ><a  href="../integrations/index.html"  title="Integrations" >Integrations</a></li>
                    <li ><a  href="../examples/index.html"  title="Examples" >Examples</a></li>
                </ul>

            </div>
        <div class="col-md-3 bottom-description">
          <blockquote><p id="bottomNote">
          Apache PLC4X is an effort undergoing incubation at The Apache Software Foundation (ASF), sponsored by the Apache Incubator. Incubation is required of all newly accepted projects until a further review indicates that the infrastructure, communications, and decision making process have stabilized in a manner consistent with other successful ASF projects. While incubation status is not necessarily a reflection of the completeness or stability of the code, it does indicate that the project has yet to be fully endorsed by the ASF.
          </p></blockquote>
        </div>
      </div>
    </div>
  </footer>
  <div class="container subfooter">
    <div class="row">
      <div class="col-md-12">
        <p class="pull-right"><a id="m-scroll-top" href="#">Back to top</a></p>
        <p class="copyright">Copyright &copy;2017-2018                 <a href="https://www.apache.org/">The Apache Software Foundation</a>
. All Rights Reserved.</p>
        <p><a href="https://github.com/devacfr/reflow-maven-skin" title="Reflow Maven skin">Reflow Maven skin</a> by <a href="http://devacfr.github.io" target="_blank" title="devacfr">devacfr</a>.</p>

      </div>
    </div>
  </div>
  <!-- Le javascript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
    <script src="../js/jquery.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>

  <script src="../js/lightbox.min.js"></script>

  <script src="../js/reflow-scroll.js"></script>
  <script src="../js/reflow-skin.js"></script>
    <script src="../js/anchor.min.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function(event) {
            anchors.options = {
              placement: 'left',
            };
            anchors.add('h1,h2, h3, h4, h5, h6');
        });
    </script>

  </body>
</html>